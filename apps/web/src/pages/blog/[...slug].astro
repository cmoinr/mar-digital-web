---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const slug = Astro.params.slug?.join('/') || '';
const entry = posts.find(p => p.slug === slug);
if (!entry) {
  throw new Error("Post no encontrado");
}
const { Content, data } = await entry.render();
---
<BaseLayout title={data.title} description={data.description}>
  <article class="prose lg:prose-lg mx-auto px-6 py-12">
    <h1>{data.title}</h1>
    <Content />
  </article>
</BaseLayout>
